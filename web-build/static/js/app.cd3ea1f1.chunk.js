(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{284:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var a=n(38),r=n.n(a),o=n(16),l=n.n(o),i=n(0),c=n.n(i),s=n(949),u=n(9),d=n.n(u),m=n(18),f=n.n(m),g=n(958),y=n(959),b=n(198);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=n(193),k=n(15),C=n(283),x=n(68),T=c.a.createContext({theme:"light",toggleTheme:function(){}}),w=n(11),S=n(82),v=n(146),B=n(7),j=n(114),I=!1,D=!1,O=[],L=[];function R(){return 0==L.length&&fetch("https://sjezd-qr-ticket.herokuapp.com/get/all_interests").then((function(e){return e.json()})).then((function(e){L=e.message})).catch((function(e){L=[],alert("Connection to database error: "+e)})),L=[{key:"registration",title:"Registration"},{key:"dinner_fri",title:"Dinner friday"},{key:"breakfast_sat",title:"Breakfast saturday"},{key:"lunch_sat",title:"Lunch saturday"},{key:"dinner_sat",title:"Dinner saturday"},{key:"breakfast_sun",title:"Breakfast sunday"},{key:"snack_sun",title:"Snack sunday"}]}function z(){return 0==O.length&&fetch("https://sjezd-qr-ticket.herokuapp.com/get/all_tickets").then((function(e){return e.json()})).then((function(e){O=e.message})).catch((function(e){O=[],alert("Connection to database error: "+e)})),O}function P(){return D}function A(e){return""==e||"1234"==e?(I=!0,D=!1,"1234"==e&&(D=!0)):(D=!1,I=!1),I}function V(e){var t=e.itemToValidate,n=e.markAsUsed,a=e.setScanned,r=e.modalState,o=e.setModalState,l=e.scanned,i=e.handleBarCodeScanned,s=Object(S.a)().width,u=4*s/3;return c.a.createElement(B.a,{style:W.container},r.isVisible&&c.a.createElement(N,{setModalState:o,setScanned:a,itemToValidate:t,markAsUsed:n,dataToModal:r}),c.a.createElement(j.a,{onBarCodeScanned:l?void 0:i,style:[w.a.absoluteFill,W.camera,{width:u,marginLeft:-(u-s)/2}]}),c.a.createElement(B.a,{style:W.container},c.a.createElement(B.a,{style:W.layerTop}),c.a.createElement(B.a,{style:W.layerCenter},c.a.createElement(B.a,{style:W.layerLeft}),c.a.createElement(B.a,{style:W.focused},c.a.createElement(B.a,{style:[W.borderCornerTopLeft,W.borderCorner]}),c.a.createElement(B.a,{style:[W.borderCornerTopRight,W.borderCorner]}),c.a.createElement(B.a,{style:[W.borderCornerBottomLeft,W.borderCorner]}),c.a.createElement(B.a,{style:[W.borderCornerBottomRight,W.borderCorner]})),c.a.createElement(B.a,{style:W.layerRight})),c.a.createElement(B.a,{style:W.layerBottom})))}function N(e){var t,n=e.setModalState,a=e.setScanned,r=e.itemToValidate,o=(e.markAsUsed,e.dataToModal),l=Object(k.useTheme)(),i=R();return c.a.createElement(B.a,{style:W.modalContainer},"DATA"===o.type&&c.a.createElement(B.a,{style:[W.modalWindow,{backgroundColor:l["color-"+o.data[0]+"-200"],borderColor:l["color-"+o.data[0]+"-default"]}]},c.a.createElement(c.a.Fragment,null,c.a.createElement(k.Text,{category:"h2",style:[W.title,W.textBlack,{backgroundColor:l["color-"+o.data[0]+"-default"]}]},o.data[1]),c.a.createElement(B.a,{style:{paddingStart:5}},c.a.createElement(k.Text,{category:"h3",style:W.textBlack},o.data[2]),i&&c.a.createElement(k.Text,{category:"h5",style:W.textBlack},null==(t=i.find((function(e){return e.key===r})))?void 0:t.title," - ",o.data[3])),c.a.createElement(B.a,{style:[W.spacer,{backgroundColor:l["color-"+o.data[0]+"-default"]}]})),c.a.createElement(B.a,{style:{alignItems:"center"}},c.a.createElement(k.Button,{style:{marginBottom:5,width:"60%"},status:"primary",onPress:function(){n({type:"HIDDEN",isVisible:!1}),a(!1)}},"Close"))),"LOADING"===o.type&&c.a.createElement(B.a,{style:[W.modalWindow,{backgroundColor:l["background-basic-color-1"]}]},c.a.createElement(k.Text,{category:"h2",style:[W.title,{color:l["text-basic-color"],textAlign:"center"}]},"Loading"),c.a.createElement(B.a,{style:{alignItems:"center",paddingBottom:10}},c.a.createElement(k.Spinner,{size:"giant"}))))}var G="rgba(0, 0, 0, .4)",W=w.a.create({container:{left:0,right:0,top:0,bottom:0,position:"absolute",backgroundColor:"transparent"},camera:{width:"100%",height:"100%"},layerTop:{flex:2,backgroundColor:G},layerCenter:{flex:3,flexDirection:"row"},layerLeft:{flex:1,backgroundColor:G},focused:{flex:10,margin:-7,zIndex:10},layerRight:{flex:1,backgroundColor:G},layerBottom:{flex:2,backgroundColor:G},borderCorner:{borderColor:"#eee",position:"absolute",width:"15%",height:"15%"},borderCornerTopLeft:{borderTopWidth:7,borderLeftWidth:7,borderTopLeftRadius:20,left:0,top:0},borderCornerTopRight:{borderTopWidth:7,borderRightWidth:7,borderTopRightRadius:20,right:0,top:0},borderCornerBottomLeft:{borderBottomWidth:7,borderLeftWidth:7,borderBottomLeftRadius:20,left:0,bottom:0},borderCornerBottomRight:{borderBottomWidth:7,borderRightWidth:7,borderBottomRightRadius:20,right:0,bottom:0},modalContainer:{backgroundColor:"rgba(255, 255, 255, 0.5)",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:99,top:0,left:0},modalWindow:{borderWidth:2,borderRadius:5,width:"90%"},spacer:{height:2,width:"95%",alignSelf:"center",marginBottom:5,marginTop:5},title:{backgroundColor:"black",padding:3,paddingStart:10},textBlack:{color:"black"}}),M=n(956),U=n(150);function F(e){var t=e.selectedTicket,n=e.onClose,a=e.visible,o=function(e){return c.a.createElement(B.a,e,c.a.createElement(k.Text,{category:"h3"},t.name),c.a.createElement(k.Text,{category:"s1"},t.ID))},i=function(e){return c.a.createElement(B.a,r()({},e,{style:[e.style,_.footerContainer]}),c.a.createElement(k.Button,{style:_.footerControl,size:"small",status:"basic",onPress:n},"CANCEL"),c.a.createElement(k.Button,{style:_.footerControl,size:"small",status:"info",onPress:n},"UPDATE"))};return c.a.createElement(k.Modal,{visible:a,backdropStyle:_.backdrop,style:{width:"90%"}},c.a.createElement((function(){var e=["--","Meat","Vege"],n=c.a.useState(0),a=l()(n,2),r=a[0],s=a[1],u=c.a.useState(!1),d=l()(u,2),m=d[0],f=d[1],g=c.a.useState(0),y=l()(g,2),b=y[0],h=y[1];return c.a.createElement(k.Card,{style:_.card,header:o,footer:i},c.a.createElement(B.a,{style:_.bodyContainer},c.a.createElement(k.Text,null,"Registration:"),c.a.createElement(k.Text,{style:{textTransform:"capitalize"}},t.registration)),c.a.createElement(B.a,{style:[_.bodyContainer,{marginBottom:12}]},c.a.createElement(k.Text,null,"Balance:"),c.a.createElement(k.Text,null,t.balance," CZK")),c.a.createElement(k.Divider,null),c.a.createElement(k.TabBar,{selectedIndex:b,onSelect:function(e){return h(e)}},c.a.createElement(k.Tab,{title:"Friday"}),c.a.createElement(k.Tab,{title:"Saturday"}),c.a.createElement(k.Tab,{title:"Sunday"})),c.a.createElement(k.ViewPager,{selectedIndex:b,shouldLoadComponent:function(e){return e===b}},c.a.createElement(k.Layout,{level:"2",style:_.kittenUiBackground},c.a.createElement(k.Divider,null),c.a.createElement(B.a,{style:_.bodyContainer},c.a.createElement(k.Text,{category:"h6"},"Dinner:"),c.a.createElement(k.Select,{style:{padding:4,flexGrow:1,marginLeft:8},value:e[r],onSelect:function(e){return s(e.row)}},e.map((function(e,t){return c.a.createElement(k.SelectItem,{title:e,key:t})}))))),c.a.createElement(k.Layout,{level:"2",style:_.kittenUiBackground},c.a.createElement(k.Divider,null),c.a.createElement(B.a,{style:_.bodyContainer},c.a.createElement(k.Text,{category:"h6"},"Breakfast:"),c.a.createElement(k.Toggle,{checked:m,onChange:f,style:{padding:4}})),c.a.createElement(k.Divider,null),c.a.createElement(B.a,{style:_.bodyContainer},c.a.createElement(k.Text,{category:"h6"},"Lunch:"),c.a.createElement(k.Select,{style:{padding:4,flexGrow:1,marginLeft:8},value:e[r],onSelect:function(e){return s(e.row)}},e.map((function(e,t){return c.a.createElement(k.SelectItem,{title:e,key:t})})))),c.a.createElement(k.Divider,null),c.a.createElement(B.a,{style:_.bodyContainer},c.a.createElement(k.Text,{category:"h6"},"Dinner:"),c.a.createElement(k.Select,{style:{padding:4,flexGrow:1,marginLeft:8},value:e[r],onSelect:function(e){return s(e.row)}},e.map((function(e,t){return c.a.createElement(k.SelectItem,{title:e,key:t})}))))),c.a.createElement(k.Layout,{level:"2",style:_.kittenUiBackground},c.a.createElement(k.Divider,null),c.a.createElement(B.a,{style:_.bodyContainer},c.a.createElement(k.Text,{category:"h6"},"Breakfast:"),c.a.createElement(k.Toggle,{checked:m,onChange:f,style:{padding:4}})),c.a.createElement(k.Divider,null),c.a.createElement(B.a,{style:_.bodyContainer},c.a.createElement(k.Text,{category:"h6"},"Lunch:"),c.a.createElement(k.Select,{style:{padding:4,flexGrow:1,marginLeft:8},value:e[r],onSelect:function(e){return s(e.row)}},e.map((function(e,t){return c.a.createElement(k.SelectItem,{title:e,key:t})})))),c.a.createElement(k.Divider,null),c.a.createElement(B.a,{style:_.bodyContainer},c.a.createElement(k.Text,{category:"h6"},"Dinner:"),c.a.createElement(k.Select,{style:{padding:4,flexGrow:1,marginLeft:8},value:e[r],onSelect:function(e){return s(e.row)}},e.map((function(e,t){return c.a.createElement(k.SelectItem,{title:e,key:t})})))))))}),null))}var _=w.a.create({kittenUiBackground:{backgroundColor:"transparent"},topContainer:{flexDirection:"row",justifyContent:"space-between"},card:{flex:1,padding:2},footerContainer:{flexDirection:"row",justifyContent:"flex-end"},footerControl:{marginHorizontal:2},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"},bodyContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}}),H=n(287);function Q(e){var t=e.modalVisiblity,n=e.setModalVisiblity,a=e.dataToModal;return c.a.createElement(k.Layout,{style:q.container,level:"1"},c.a.createElement(k.Modal,{visible:t,style:q.modalContainer},c.a.createElement(B.a,{style:[q.modalWindow]},c.a.createElement(k.Text,{style:q.title},a?a.name:"loading"),c.a.createElement(H.a,{value:a?a.ID:"loading",size:200}),c.a.createElement(k.Text,{style:q.subtitle},a?a.ID:"loading"),c.a.createElement(k.Button,{style:{marginTop:5,width:"60%"},status:"primary",onPress:function(){n(!1)}},"Close"))))}var q=w.a.create({modalWindow:{paddingBottom:10,paddingTop:10,borderWidth:2,borderRadius:5,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 1)",width:"90%"},title:{fontSize:42,textAlign:"center",paddingBottom:5,color:"black"},subtitle:{fontSize:25,textAlign:"center",paddingTop:5,color:"black"},modalContainer:{backgroundColor:"rgba(255, 255, 255, 0.5)",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},topContainer:{flexDirection:"row",justifyContent:"space-between"},card:{flex:1,margin:2},footerContainer:{flexDirection:"row",justifyContent:"flex-end"},footerControl:{marginHorizontal:2},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{flex:0,width:"100%",justifyContent:"space-between",flexDirection:"column",backgroundColor:"black"}});function J(e){var t=e.manualValidation,n=Object(i.useState)(!1),a=l()(n,2),o=a[0],s=a[1],u=Object(i.useState)(null),d=l()(u,2),m=d[0],f=d[1],g=z(),y=Object(i.useState)(g),b=l()(y,2),h=b[0],E=b[1],p=Object(i.useState)(!1),C=l()(p,2),x=C[0],w=C[1],S=Object(i.useState)(null),v=l()(S,2),j=v[0],I=v[1],D=Object(i.useContext)(T),O=(Object(k.useTheme)(),function(e){return c.a.createElement(k.Icon,r()({},e,{name:"person"}))}),L=function(e){return c.a.createElement(k.Icon,r()({},e,{name:"edit-outline"}))},R=function(e){return c.a.createElement(k.Icon,r()({},e,{name:"person-done-outline"}))};function A(){return"light"===D.theme?Z.whiteBG:Z.blackBG}return c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{style:Z.content},c.a.createElement(k.TopNavigation,{style:{elevation:5},title:function(){return c.a.createElement(k.Text,{style:{flex:1,textAlign:"center",fontSize:25}},"List of tickets")}}),c.a.createElement(k.Divider,null),c.a.createElement(k.List,{style:[Z.list,A()],data:h,renderItem:function(e){var n=e.item,a=e.index;return c.a.createElement(k.ListItem,{key:a,title:function(){return c.a.createElement(k.Text,{style:Z.listItemTitle},n.name)},description:n.ID,accessoryLeft:O,accessoryRight:function(e){return P()?function(e,n){return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.Button,{size:"small",status:"info",accessoryLeft:L,style:Z.editButton,onPress:function(){f(n),s(!0)}}),c.a.createElement(k.Button,{size:"small",status:"success",accessoryLeft:R,style:Z.editButton,onPress:function(){t(n.ID)}}))}(0,n):function(e,n){return c.a.createElement(k.Button,{size:"small",status:"success",accessoryLeft:R,style:Z.editButton,onPress:function(){t(n.ID)}})}(0,n)},onPress:function(){f(n),function(e){I(e),w(!0)}(n)},style:[Z.listItem,"light"===D.theme?Z.listItemWhiteBorder:null]})},ListEmptyComponent:c.a.createElement(k.Text,{style:Z.emptyListText},"No tickets found!")}),P()&&null!=m?c.a.createElement(F,{selectedTicket:m,onClose:function(){return s(!1)},visible:o}):c.a.createElement(c.a.Fragment,null),c.a.createElement(k.Divider,null),c.a.createElement(B.a,{style:[{elevation:5},A()]},c.a.createElement(K,{setSearchedTickets:E,allTickets:g}))),c.a.createElement(Q,{modalVisiblity:x,setModalVisiblity:w,dataToModal:j}))}function K(e){var t=e.setSearchedTickets,n=e.allTickets,a=c.a.useState(""),o=l()(a,2),i=o[0],s=o[1],u=function(){s(""),t(n)};return c.a.createElement(k.Input,{value:i,autoCapitalize:"none",autoCorrect:!1,placeholder:"Search",style:Z.searchBar,clearButtonMode:"while-editing",accessoryRight:function(e){return c.a.createElement(U.a,{onPress:u},c.a.createElement(k.Icon,r()({},e,{name:"close-outline"})))},onChangeText:function(e){s(e),t(""==e?n:n.filter((function(t){return X(t.name.toLowerCase()).includes(X(e.toLowerCase()))||t.ID.toLowerCase().includes(e.toLowerCase())})))}})}var Z=w.a.create({content:{flex:1},list:{width:"100%",padding:15},blackBG:{backgroundColor:"black"},whiteBG:{backgroundColor:"white"},listItem:{margin:5,borderRadius:15},listItemWhiteBorder:{borderWidth:1,borderColor:"#ddd"},listItemTitle:{fontSize:20},editButton:{borderRadius:12,width:15,marginLeft:5},emptyListText:{fontSize:40,marginTop:"20%",alignSelf:"center"},searchBar:{padding:10,color:"#000",borderColor:"#aaa",borderRadius:15,alignItems:"center",justifyContent:"center"}});function X(e){for(var t=[{base:"a",letters:/[\xe1\xe4]/g},{base:"c",letters:/[\u010d]/g},{base:"d",letters:/[\u010f]/g},{base:"e",letters:/[\u011b\xe9]/g},{base:"i",letters:/[\xed]/g},{base:"l",letters:/[\u013a\u013e]/g},{base:"n",letters:/[\u0148]/g},{base:"o",letters:/[\xf3\xf4]/g},{base:"r",letters:/[\u0159\u0155]/g},{base:"s",letters:/[\u0161]/g},{base:"t",letters:/[\u0165]/g},{base:"u",letters:/[\u016f\xfa]/g},{base:"y",letters:/[\xfd]/g},{base:"z",letters:/[\u017e]/g}],n=0;n<t.length;n++)e=e.replace(t[n].letters,t[n].base);return e}function Y(e){var t=function(t){return c.a.createElement(B.a,r()({},t,{style:$.text}),c.a.createElement(k.Text,{category:"h3"},e.user),c.a.createElement(k.Text,{category:"s1"},e.desc))},n=function(t){return c.a.createElement(B.a,r()({},t,{style:[t.style,$.footerContainer]}),c.a.createElement(k.Button,{style:$.footerControl,size:"small",status:"basic",onPress:function(){return e.setVisible(!1)}},"CANCEL"),c.a.createElement(k.Button,{style:$.footerControl,size:"small",onPress:function(){return e.setVisible(!1)}},"UPDATE"))};return c.a.createElement(k.Modal,{visible:e.visible,backdropStyle:$.backdrop},c.a.createElement((function(){return c.a.createElement(k.Card,{style:$.card,header:t,footer:n},c.a.createElement(k.Text,null,"The Text"))}),null))}var $=w.a.create({text:{color:"black"},topContainer:{flexDirection:"row",justifyContent:"space-between"},card:{flex:1,margin:2},footerContainer:{flexDirection:"row",justifyContent:"flex-end"},footerControl:{marginHorizontal:2},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}),ee=n(286);function te(e){var t=e.ticketType,n=e.markTicketAsUsed,a=e.hasPermission,r=e.setHasPermission,o=Object(M.a)(),s=Object(S.a)().width,u=Object(i.useContext)(T),d=Object(i.useState)("dark"===u.theme),m=l()(d,2),f=m[0],g=m[1],y=function(e){U(e)},b=Object(i.useState)(!1),h=l()(b,2),E=h[0],p=h[1],C=Object(i.useState)({type:"HIDDEN",isVisible:!1}),x=l()(C,2),w=x[0],I=x[1],D=t.key,O=Object(i.useState)("80%"),L=l()(O,2),R=L[0],z=L[1],P=Object(i.useState)(""),A=l()(P,2),N=A[0],G=A[1],W=function(e){e.type;var t=e.data;I({type:"LOADING",isVisible:!0}),U(t)},U=function(e){p(!0),F(e)},F=function(e){fetch("https://sjezd-qr-ticket.herokuapp.com/get/"+e).then((function(e){return e.json()})).then((function(e){I({type:"DATA",isVisible:!0,data:_(e.message[0],D)})})).catch((function(e){alert("ERROR: Chyba p\u0159ipojen\xed k datab\xe1zi p\u0159i na\u010d\xedt\xe1n\xed vstupenky."+e),I({type:"HIDDEN",isVisible:!1})}))};function _(e,t){switch(function(e,t){return e?e&&e.hasOwnProperty("timestamp_"+t)&&null!==e["timestamp_"+t]?"used":e&&e.hasOwnProperty(t)&&["true","all","sobota","maso","bezmaso"].includes(e[t])?"ok":e&&e.hasOwnProperty(t)&&[null,"",!1].includes(e[t])?"not":"error":"error"}(e,t)){case"used":return["warning","Ticket has been already used!",null==e?void 0:e.name,e[t]];case"ok":return["success","Ticket checked",null==e?void 0:e.name,e[t]];case"not":return["info","Not purchased!",null==e?void 0:e.name,e[t]];default:return["danger","Error",null==e?void 0:e.name,e[t]]}}if("DENIED"===a.type)return c.a.createElement(B.a,{style:{height:"100%",justifyContent:"center"}},c.a.createElement(k.Text,{category:"h4",style:{textAlign:"center"}},"Please allow Camera"),c.a.createElement(k.Button,{onPress:function(){j.a.requestPermissionsAsync().then((function(e){var t=e.status;r("granted"===t?{type:"GRANTED"}:{type:"DENIED"})}))}},"Done"));if("LOADING"===a.type)return c.a.createElement(B.a,{style:{flex:1,height:"100%",justifyContent:"center",alignItems:"center"}},c.a.createElement(k.Spinner,{size:"giant"}));function H(){return"light"===u.theme?ne.light:ne.dark}function Q(e){return c.a.createElement(v.a,{style:{flex:1},behavior:"height",keyboardVerticalOffset:40},c.a.createElement(J,{manualValidation:y}))}return c.a.createElement(o.Navigator,{initialRouteName:"QRScreen",backBehavior:"initialRoute",screenOptions:{drawerPosition:"right",drawerStyle:{width:"90%",backgroundColor:"black"},headerShown:!1},drawerContent:function(e){return c.a.createElement(Q,e)}},c.a.createElement(o.Screen,{name:"QRScreen",component:function(){return c.a.createElement(B.a,{style:[ne.container,H()]},c.a.createElement(k.Text,{style:[ne.title,H()]},t.title),c.a.createElement(ee.a,{style:ne.toggle,value:f,onChange:function(e){return function(e){g(e),u.toggleTheme()}(e)}}),c.a.createElement(V,{itemToValidate:t.key,markAsUsed:n,setScanned:p,modalState:w,setModalState:I,scanned:E,handleBarCodeScanned:W}),c.a.createElement(B.a,{style:[ne.manualValidationBox,{height:R}]},c.a.createElement(k.Input,{value:N,autoCapitalize:"characters",autoCorrect:!1,placeholder:"or Type QR code",status:"control",size:"large",maxLength:10,style:ne.manualValidationInput,textStyle:ne.manualValidationInputText,onChangeText:function(e){return G(e)},onSubmitEditing:function(e){return U(e.nativeEvent.text)},onFocus:function(){return z("70%")},onBlur:function(){return z("80%")}})),c.a.createElement(Y,null))},options:{drawerLabel:"QRScreen",swipeEdgeWidth:s/2}}))}var ne=w.a.create({title:{position:"absolute",top:0,zIndex:100,fontSize:30,width:"100%",textAlign:"center",padding:7},dark:{color:"white",backgroundColor:"#222B45"},light:{color:"black",backgroundColor:"white"},toggle:{position:"absolute",right:10,top:5,zIndex:110,padding:7},container:{flex:1,width:"100%",justifyContent:"space-between",flexDirection:"column",backgroundColor:"black"},manualValidationBox:{backgroundColor:"transparent",height:"80%",justifyContent:"flex-end"},manualValidationInput:{width:"50%",alignSelf:"center",backgroundColor:"rgba(80,80,80,0.5)"},manualValidationInputText:{textAlign:"center"}}),ae=n(58);function re(e){var t=e.navigation,a=Object(i.useState)(!1),r=l()(a,2),o=r[0],s=r[1],u=Object(i.useState)(""),d=l()(u,2),m=d[0],f=d[1],g=Object(i.useContext)(T);function y(){f("")}function b(){A(m)?(y(),s(!1),t.navigate("QrScreen")):s(!0)}function h(){return"light"===g.theme?oe.whiteBG:oe.blackBG}function E(){return"light"===g.theme?oe.black:oe.white}return c.a.createElement(B.a,{style:[oe.container,h()]},c.a.createElement(B.a,null,c.a.createElement(ae.a,{style:oe.logoImg,source:n(448)}),c.a.createElement(k.Text,{style:[oe.title,E()]},"QR Ticket")),c.a.createElement(B.a,null,c.a.createElement(k.Tooltip,{anchor:function(){return c.a.createElement(k.Input,{placeholder:"Entry code",value:m,autoCapitalize:"characters",autoFocus:!0,autoCorrect:!1,status:"info",maxLength:10,size:"large",style:[oe.input,h()],textStyle:[oe.inputText,E()],onFocus:y,onChangeText:function(e){return f(e)},onSubmitEditing:b})},visible:o,placement:"top",onBackdropPress:function(){return s(!1)}},"Bad entry code!")),c.a.createElement(B.a,null,c.a.createElement(k.Button,{style:oe.button,size:"large",status:"info",onPress:function(){return b()}},"LOG IN")))}var oe=w.a.create({container:{paddingHorizontal:100,justifyContent:"center",flex:1},blackBG:{backgroundColor:"black"},whiteBG:{backgroundColor:"white"},black:{color:"black"},white:{color:"white"},title:{fontSize:42,textAlign:"center"},input:{borderRadius:40,textAlign:"center"},inputText:{textAlign:"center",fontSize:20,paddingVertical:7},logoImg:{alignSelf:"center",width:"70%",height:"45%",borderRadius:100,resizeMode:"contain"},button:{marginTop:20,marginBottom:"50%",paddingVertical:17,borderRadius:40}}),le=n(50);function ie(e){var t=e.ticketType,n=e.markTicketAsUsed,a=e.setTicketType,o=(e.setMarkTicketAsUsed,e.ticketTypes),l=Object(k.useTheme)(),s=Object(i.useContext)(T);function u(){return"light"===s.theme?ce.whiteBG:ce.blackBG}return c.a.createElement(B.a,{style:[ce.container,u()]},c.a.createElement(k.TopNavigation,{style:{elevation:5},title:function(){return c.a.createElement(k.Text,{style:{flex:1,textAlign:"center",fontSize:25}},"Choose ticket type to scan")}}),c.a.createElement(k.Divider,null),c.a.createElement(le.a,{contentContainerStyle:[ce.cardBoxContent,u()]},o.map((function(e,n){return c.a.createElement(k.Card,{key:e.key,style:[ce.card,t.key===e.key&&{backgroundColor:l["color-primary-default"]}],onPress:function(){a(e)}},c.a.createElement(k.Text,{style:[ce.cardText,t.key===e.key&&{color:"white"}]},e.title))}))),c.a.createElement(k.Divider,null),c.a.createElement(k.BottomNavigation,{selectedIndex:n,onSelect:a,indicatorStyle:{backgroundColor:l["color-primary-200"],height:"130%"},style:{elevation:5}},c.a.createElement(k.BottomNavigationTab,{title:"Only validate",icon:function(e){return c.a.createElement(k.Icon,r()({},e,{name:"eye-outline"}))}}),c.a.createElement(k.BottomNavigationTab,{title:"Also mark as used",icon:function(e){return c.a.createElement(k.Icon,r()({},e,{name:"checkmark-circle-2-outline"}))}})))}var ce=w.a.create({container:{flex:1,width:"100%",justifyContent:"center"},blackBG:{backgroundColor:"black"},whiteBG:{backgroundColor:"white"},cardBoxContent:{justifyContent:"center",flex:1,width:"100%"},cardText:{textAlign:"center",fontSize:25},card:{width:"90%",margin:10,justifyContent:"center",alignSelf:"center",borderRadius:15}}),se=n(957);function ue(){var e=Object(M.a)(),t=Object(S.a)().width,n=R(),a=c.a.useState(n[0]),r=l()(a,2),o=r[0],s=r[1],u=c.a.useState(0),d=l()(u,2),m=d[0],f=d[1],g=Object(i.useState)({type:"LOADING"}),y=l()(g,2),b=y[0],h=y[1];Object(i.useEffect)((function(){var e=!0;return j.a.requestPermissionsAsync().then((function(t){var n=t.status;e&&h("granted"===n?{type:"GRANTED"}:{type:"DENIED"})})),function(){e=!1}}),[]);return c.a.createElement(se.a,null,c.a.createElement(e.Navigator,{initialRouteName:"LoginScreen",backBehavior:"initialRoute",drawerContent:function(){return c.a.createElement(ie,{ticketType:o,markTicketAsUsed:m,setTicketType:s,setMarkTicketAsUsed:f,ticketTypes:n})},screenOptions:{drawerPosition:"left",drawerStyle:{width:"90%"},headerShown:!1}},c.a.createElement(e.Screen,{name:"LoginScreen",component:re,options:{drawerLabel:"LoginScreen",swipeEdgeWidth:0,gestureEnabled:!1}}),c.a.createElement(e.Screen,{name:"QrScreen",component:function(){return c.a.createElement(te,{ticketType:o,markTicketAsUsed:m,hasPermission:b,setHasPermission:h})},options:{drawerLabel:"QrScreen",swipeEdgeWidth:t/2}})))}function de(){var e=function(){var e=i.useState(!1),t=l()(e,2),a=t[0],r=t[1];return i.useEffect((function(){f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b.b(),e.next=4,f.a.awrap(y.b(E(E({},g.a.font),{},{"space-mono":n(314)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,r(!0),b.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),a}(),t=c.a.useState("dark"),a=l()(t,2),o=a[0],u=a[1];return e?c.a.createElement(c.a.Fragment,null,c.a.createElement(T.Provider,{value:{theme:o,toggleTheme:function(){u("light"===o?"dark":"light")}}},c.a.createElement(k.ApplicationProvider,r()({},p,{theme:p[o]}),c.a.createElement(x.a,{hidden:!1,backgroundColor:"gray"}),c.a.createElement(k.IconRegistry,{icons:C.EvaIconsPack}),c.a.createElement(s.b,null,c.a.createElement(ue,null))))):null}},298:function(e,t,n){e.exports=n(942)},314:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},448:function(e,t,n){e.exports=n.p+"static/media/icon.f7cdf9f7.png"}},[[298,1,2]]]);
//# sourceMappingURL=app.cd3ea1f1.chunk.js.map